В Kotlin для работы с нулевыми и ненулевыми типами используется особый синтаксис и строгая система типов, которая помогает избежать ошибок `NullPointerException` (NPE), одной из самых распространённых проблем в Java. Вот как это работает:

### Non-Nullable типы
По умолчанию, все типы в Kotlin считаются *Non-Nullable*, то есть не допускают значение `null`. Это означает, что если объявить переменную как `String`, она **никогда не может быть `null`**.

Пример:
```kotlin
val name: String = "Alice" // Non-Nullable тип String
name = null // Ошибка компиляции
```

Попытка присвоить `null` такой переменной приведет к ошибке компиляции, что помогает избежать случайного использования `null`.

### Nullable типы
Чтобы разрешить переменной принимать значение `null`, нужно использовать оператор `?` после типа. Это создает *Nullable* тип.

Пример:
```kotlin
val name: String? = "Alice" // Nullable тип String?
val emptyName: String? = null // Может принимать значение null
```

Теперь `name` и `emptyName` могут быть как строками, так и `null`. Такая декларация требует дополнительных проверок перед использованием, что делает код более безопасным.

### Работа с Nullable типами

Когда переменная объявлена как `Nullable`, компилятор Kotlin не позволяет напрямую использовать её методы и свойства без проверки на `null`. Вместо этого нужно применить одну из безопасных операций:

#### 1. **Проверка на null (if statement)**

Проверка с помощью `if` позволяет безопасно обращаться к значению:
```kotlin
val name: String? = "Alice"
if (name != null) {
    println(name.length) // Безопасно, так как мы уже проверили на null
}
```

#### 2. **Оператор безопасного вызова (?.)**

Этот оператор позволяет вызывать методы и свойства только если переменная не равна `null`. Если переменная равна `null`, результатом будет `null`, и код не выдаст ошибку.
```kotlin
val name: String? = "Alice"
println(name?.length) // Вернёт длину строки или null, если name == null
```

#### 3. **Оператор элвиса (?:)**

Используется для указания значения по умолчанию, если переменная равна `null`:
```kotlin
val name: String? = null
val length = name?.length ?: 0 // Если name == null, вернёт 0
```

#### 4. **Оператор принудительного обращения (!!)**

Этот оператор говорит компилятору «я уверен, что значение не `null`». Если переменная все же окажется `null`, будет выброшен `KotlinNullPointerException`, аналогичный Java-исключению `NullPointerException`.
```kotlin
val name: String? = null
println(name!!.length) // NullPointerException, если name == null
```

#### 5. **Функции для безопасного преобразования типов**

Кotlin также предоставляет функции для работы с nullable типами:
- `let`: Позволяет выполнять действия с переменной, если она не `null`.
- `run`: Можно использовать, чтобы запустить блок кода только при ненулевом значении.

Пример использования `let`:
```kotlin
val name: String? = "Alice"
name?.let { println(it.length) } // Выполнится только если name не null
```

### Итоги

Kotlin требует явного указания `null` для переменных, что помогает избежать случайных `NullPointerException`. Non-Nullable и Nullable типы делают код более безопасным и позволяют компилятору предотвратить многие ошибки ещё до выполнения программы.

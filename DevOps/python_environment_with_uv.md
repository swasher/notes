uv полностью может заменить все инструменты. Он может

- управлять виртуальной средой, как `poetry`
- устанавливать глобальные пакеты, как `pipx`
- управлять версиями python, как `pyenv`

Установка
----------------

    # On Windows.
    powershell -ExecutionPolicy ByPass -c "irm https://astral.sh/uv/install.ps1 | iex"

Обновление

    uv self update


QuickStart
-----------------
    
    $ uv init
    $ uv add django
    $ uv add ruff --dev
    $ uv run ./manage.py

uv вместо pipx
-------------------

    $ uv tool install cowsay
    $ cowsay mooo

`$PATH` устанавливается автоматически

Так же есть возможность запускать исполнение вообще без установки пакетов:

    $ uvx cowsay mooo
    $ uvx ruff check   # Lint all files in the current directory.
    $ uvx ruff format  # Format all files in the current directory.

Управление версиями Python для проектов
-----------------

Вы просто настраиваете свой проект на использование определенной версии Python (указывая номер версии в файле `.python-version`), а затем всякий раз, когда вы используете его uv runв проекте, устанавливается правильная версия Python, создается виртуальная среда и устанавливаются зависимости. 

Когда вы хотите обновить версию Python, вы просто редактируете `.python-version`, и все: когда вы запускаете любую команду, `uv run` новая версия Python автоматически загружается и используется.

Установить несколько версий:

    uv python install 3.10 3.11 3.12

TODO: Куда они устанавливаются?

Установить версию питон для проекта (просто создается .python-version в проекте)

    uv python pin 3.11

Управление глобальным python
----------------------------------

Тут требуются уточнения, но вроде как достаточно выполнить

    $ uv python install 3.12 --default --preview

и питон будет установлен в `%HOME%\.local\.bin`

Если этой папке нет в PATH, то ее можно установить командой (требует проверки!)

    $ uv tool update-shell

Как я понял, флаг --preview может установить несколько версий python в глобальную среду. Каждый из них будет доступен как `python3.11`, `python3.12` и так далее.
А флаг --default устанавливает один из них как просто `python`. Таким образом, можно иметь разные версии в системе, и одну из них как дефолтную.

Группы
------------------

Добавление пакетов в разные группы (без их установки - --no-sync):

    $ uv add django
    $ uv add --group dev --no-sync ruff
    $ uv add --group prod --no-sync gunicorn

Но если запустить что-то в среде, uv установит недостающие пакеты из всех групп. Согласно [статье](https://www.loopwerk.io/articles/2024/python-uv-revisited/), нужно добавить в `pyproject.toml` строки:

    [tool.uv]
    default-groups = []

И теперь, чтобы установить группу, нужно выполнить

    $ uv sync --group prod
    $ uv sync --group dev --group prod

Показ устаревших пакетов
-------------------------

    $ uv tree --outdated
    $ uv tree --outdated --depth=1

Это покажет дерево всех зависимостей с указанием их последней версии, если доступно обновление. Вторая команда показывает только зависимости верхнего уровня, те, которые действительно интересны.

uv позволяет легко увидеть устаревшие пакеты во всех группах, даже если эти группы не установлены:

    $ uv tree --group prod --group dev --outdated --depth=1

Если мы не используем группы, то можно воспользоваться командой `uv pip list --outdated`, которая показывает *только* устаревшие пакеты (но это не работает с группами)

